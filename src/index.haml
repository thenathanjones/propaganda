!!!

%head
  %title Photospike

  %script{type: 'text/javascript', src: 'js/lib/cordova-2.1.0.js'}
  %script{type: 'text/javascript', src: 'js/lib/knockout-2.1.0.js'}
  %script{type: 'text/javascript', src: 'js/lib/jquery-1.8.2.min.js'}
  %script{type: 'text/javascript', src: 'js/camera.js'}
  %script{type: 'text/javascript', src: 'js/viewmodels.js'}
  %script{type: 'text/javascript', src: 'js/main.js'}

  %link{rel: 'stylesheet', type: 'text/css', href: 'styles/application.css'}

  = render_partial 'templates'

%body
  #photos{data: {bind: "foreach: photos"}}
    %img{data: {bind: "attr: {src: uri}"}}
  %button{data: {bind: "click: capture"}} Capture Photo

  #currentPage{data: {bind: 'template: {name: templateSelector, data: currentPage}'}}

  #navigation
    .previous{data: {bind: 'click: previousPage, visible: pageIndex() > 0'}, class: 'btn'} <<
    .next{data: {bind: 'click: nextPage, visible: pageIndex() < pages().length - 1'}, class: 'btn'} >>